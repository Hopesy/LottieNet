# 待办清单

## 🔥 高优先级（紧急重要）

目前没有紧急任务。

## 📌 中优先级（重要不紧急）

- [ ] 实现 RepeatMode.Reverse 反向播放功能
  - 截止日期: 2025-02-15
  - 预计工作量: 1天
  - 描述: 在 DynamicLottieView 和 PrerenderedLottieView 中实现反向播放
  - 相关文件:
    - `LottieNet/Controls/DynamicLottieView.cs`
    - `LottieNet/Controls/PrerenderedLottieView.cs`
  - 实现要点:
    - DynamicLottieView: 反向调整 Stopwatch 时间计算
    - PrerenderedLottieView: 反向遍历 _frames 列表

- [ ] 添加单元测试框架
  - 截止日期: 2025-02-20
  - 预计工作量: 3天
  - 描述: 使用 xUnit 为核心功能添加单元测试
  - 测试重点:
    - [ ] LottieView 属性同步机制
    - [ ] 渲染模式切换逻辑
    - [ ] DynamicLottieView 播放控制
    - [ ] PrerenderedLottieView 帧管理
  - 目标: 代码覆盖率 > 70%

- [ ] 优化 PrerenderedLottieView 内存占用
  - 截止日期: 2025-02-25
  - 预计工作量: 2天
  - 描述: 实现帧压缩或按需加载机制
  - 可选方案:
    - 使用更高效的图片格式（WebP）
    - 实现帧缓存淘汰策略（LRU）
    - 支持降低预渲染分辨率

- [ ] 实现异步加载机制
  - 截止日期: 2025-03-01
  - 预计工作量: 1天
  - 描述: 将动画加载和预渲染改为异步操作
  - 任务分解:
    - [ ] 异步读取 Lottie 文件
    - [ ] 异步预渲染帧序列
    - [ ] 添加加载进度事件
    - [ ] 在 UI 上显示加载指示器

## 💡 低优先级（可延后）

- [ ] 丰富动画控制 API
  - 截止日期: 2025-03-15
  - 预计工作量: 2天
  - 描述: 添加暂停、恢复、跳转、速度控制等功能
  - 新增 API:
    - `Pause()` / `Resume()`
    - `SeekToFrame(int frameIndex)`
    - `PlaybackSpeed` 属性
    - `AnimationCompleted` 事件

- [ ] 改进资源管理
  - 截止日期: 2025-03-20
  - 预计工作量: 1天
  - 描述: 实现 IDisposable，自动清理资源
  - 改进点:
    - [ ] PrerenderedLottieView 实现 IDisposable
    - [ ] 控件卸载时释放帧缓存
    - [ ] 优化 DynamicLottieView 的 Dispose 实现

- [ ] 完善示例应用
  - 截止日期: 2025-03-25
  - 预计工作量: 1天
  - 描述: 在 Samples 项目中展示各种使用场景
  - 示例内容:
    - [ ] 渲染模式对比界面
    - [ ] 参数配置面板
    - [ ] 性能监控显示
    - [ ] 多个动画同时播放

- [ ] 完善 API 文档
  - 截止日期: 2025-04-01
  - 预计工作量: 2天
  - 描述: 补充 XML 注释和使用指南
  - 文档内容:
    - [ ] 所有公共 API 的 XML 注释
    - [ ] README.md 快速入门
    - [ ] 最佳实践文档
    - [ ] 性能调优指南

## 🔄 进行中

目前没有正在进行的任务。

## ✅ 最近完成

- [x] 创建项目文档结构 (完成于 2025-01-24)
  - 耗时: 0.5天
  - 说明: 创建需求文档、项目状态和待办清单

- [x] 创建 CLAUDE.md (完成于 2025-01-24)
  - 耗时: 0.5天
  - 说明: 为 Claude Code 提供项目上下文文档

- [x] 实现核心 Lottie 控件 (完成于初始提交)
  - 耗时: 5天
  - 说明: 完成 LottieView、DynamicLottieView、PrerenderedLottieView

## 📝 待讨论

- **性能基准测试**
  - 问题: 需要确定不同配置下的性能标准
  - 讨论点: 内存占用上限、CPU 使用率上限、最低帧率要求

- **版本发布策略**
  - 问题: 何时发布 v1.0.0 正式版
  - 讨论点: 是否需要实现 Reverse 模式才能发布

- **支持 .NET Framework**
  - 问题: 是否需要支持 .NET Framework 4.8
  - 讨论点: 目标用户群体、维护成本

## 🎯 本周目标

本周暂无特定目标，等待需求确认。

## 📅 里程碑

- [ ] **v1.0.0 发布** - 目标日期: 2025-03-01
  - 包含基础功能
  - 通过基本测试

- [ ] **v1.1.0 发布** - 目标日期: 2025-04-01
  - Reverse 模式
  - 性能优化
  - 单元测试覆盖

- [ ] **v1.2.0 发布** - 目标日期: 2025-05-01
  - 完整的动画控制 API
  - 资源管理优化
  - 完善文档
